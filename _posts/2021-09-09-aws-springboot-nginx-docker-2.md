---
title: AWS, SpringBoot, Nginx, Docker로 무중단 배포하기(2)
categories:
- Project
---

## Git Action

CI/CD로는 Git Action을 사용했습니다. 원래 Travis CI를 사용하려 했으나(어느정도 구축은 해놓았으나), 일부유료(배포건수 제한)로 전환되어, Git Action을 사용하였습니다.


![Deploy](https://user-images.githubusercontent.com/72685070/132517742-98054b43-dee5-4b3c-9751-ad5612d9a5c5.png)

위 흐름을 잘 이해해야 합니다.



배포를 위한 설정은 .github/workflows에 yml 파일을 작성하면 됩니다. 다음은 프로젝트의 yml파일입니다.
이 설정에는 Git 저장소에 있는 소스를 빌드하여 S3에 로드하고, CodeDeploy는 EC2에 있는 CodeDeploy Agent에 배포요청을 하면, CodeDeploy Agent가 S3에서 빌드된 jar를 가져오는 처리가 포함되어 있습니다.


<div class="colorscripter-code" style="color:#010101;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#fafafa;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #e5e5e5"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#666;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div><div style="line-height:130%">24</div><div style="line-height:130%">25</div><div style="line-height:130%">26</div><div style="line-height:130%">27</div><div style="line-height:130%">28</div><div style="line-height:130%">29</div><div style="line-height:130%">30</div><div style="line-height:130%">31</div><div style="line-height:130%">32</div><div style="line-height:130%">33</div><div style="line-height:130%">34</div><div style="line-height:130%">35</div><div style="line-height:130%">36</div><div style="line-height:130%">37</div><div style="line-height:130%">38</div><div style="line-height:130%">39</div><div style="line-height:130%">40</div><div style="line-height:130%">41</div><div style="line-height:130%">42</div><div style="line-height:130%">43</div><div style="line-height:130%">44</div><div style="line-height:130%">45</div><div style="line-height:130%">46</div><div style="line-height:130%">47</div><div style="line-height:130%">48</div><div style="line-height:130%">49</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#010101;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#999999">#&nbsp;This&nbsp;is&nbsp;a&nbsp;basic&nbsp;workflow&nbsp;to&nbsp;help&nbsp;you&nbsp;get&nbsp;started&nbsp;with&nbsp;Actions</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">name:&nbsp;trvapp</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">on:&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;workflow_dispatch:&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">env:&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;S3_BUCKET_NAME:&nbsp;trvapp<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>deploy&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;PROJECT_NAME:&nbsp;trvapp</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">jobs:&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;build:&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;runs<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>on:&nbsp;ubuntu<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>latest&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;steps:&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>&nbsp;name:&nbsp;Checkout&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uses:&nbsp;actions<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>checkout@v2&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>&nbsp;name:&nbsp;Set&nbsp;up&nbsp;JDK&nbsp;<span style="color:#308ce5">11</span>&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uses:&nbsp;actions<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>setup<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>java@v1&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with:&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>version:&nbsp;<span style="color:#308ce5">11</span>&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>&nbsp;name:&nbsp;Grant&nbsp;execute&nbsp;permission&nbsp;<span style="color:#ff3399">for</span>&nbsp;gradlew&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;run:&nbsp;chmod&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">+</span>x&nbsp;gradlew&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shell:&nbsp;bash&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>&nbsp;name:&nbsp;Build&nbsp;with&nbsp;Gradle&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;run:&nbsp;.<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>gradlew&nbsp;build&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shell:&nbsp;bash</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>&nbsp;name:&nbsp;Make&nbsp;zip&nbsp;file&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;run:&nbsp;zip&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>r&nbsp;.<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>$GITHUB_SHA.zip&nbsp;.&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shell:&nbsp;bash&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>&nbsp;name:&nbsp;Configure&nbsp;AWS&nbsp;credentials&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uses:&nbsp;aws<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>actions<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>configure<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>aws<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>credentials@v1&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with:&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;aws<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>access<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>key<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>id:&nbsp;${{&nbsp;secrets.AWS_ACCESS_KEY_ID&nbsp;}}&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;aws<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>secret<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>access<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>key:&nbsp;${{&nbsp;secrets.AWS_SECRET_ACCESS_KEY&nbsp;}}&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;aws<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>region:&nbsp;${{&nbsp;secrets.AWS_REGION&nbsp;}}&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>&nbsp;name:&nbsp;Upload&nbsp;to&nbsp;S3&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;run:&nbsp;aws&nbsp;s3&nbsp;cp&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">-</span><span style="color:#0086b3"></span><span style="color:#ff3399">-</span>region&nbsp;ap<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>northeast<span style="color:#0086b3"></span><span style="color:#ff3399">-</span><span style="color:#308ce5">2</span>&nbsp;.<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>$GITHUB_SHA.zip&nbsp;s3:<span style="color:#0086b3"></span><span style="color:#ff3399">/</span><span style="color:#0086b3"></span><span style="color:#ff3399">/</span>$S3_BUCKET_NAME<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>$PROJECT_NAME<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>$GITHUB_SHA.zip</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>&nbsp;name:&nbsp;Code&nbsp;Deploy&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;run:&nbsp;aws&nbsp;deploy&nbsp;create<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>deployment&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">-</span><span style="color:#0086b3"></span><span style="color:#ff3399">-</span>application<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>name&nbsp;trvapp<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>deploy&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">-</span><span style="color:#0086b3"></span><span style="color:#ff3399">-</span>deployment<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>config<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>name&nbsp;CodeDeployDefault.AllAtOnce&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">-</span><span style="color:#0086b3"></span><span style="color:#ff3399">-</span>deployment<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>group<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>name&nbsp;deploy<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>group_trvapp&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">-</span><span style="color:#0086b3"></span><span style="color:#ff3399">-</span>s3<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>location&nbsp;bucket<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>$S3_BUCKET_NAME,bundleType<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>zip,key<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>$PROJECT_NAME<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>$GITHUB_SHA.zip</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#e5e5e5text-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#e5e5e5;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>

<br>

1. on  
해당 배포(workflow)가 언제 실행될지 지정합니다. push나 pull했을 때 실행되도록 지정할 수도 있지만, 수동으로 실행되도록 했습니다.(workflow_dispatch)

2. jobs  
 (1) runs-on에는 어떤 OS 환경에서 실행될지를 기재하며, steps에는 실행될 job들을 순차적으로 기재합니다.  
 (2) Checkout : git에 업로드된 소스를 가져옵니다.  
 (3) Set up JDK, Grant execute permission for gradlew, Build with Gradle : JAVA를 설치하고, Gradle build를 위한 권한을 설정하며, build합니다.  
 (4) Make zip file : 업로드된 파일을 zip으로 압축합니다. $GITHUB_SHA는 현재 실행 workflow의 해시값입니다.(환경변수)  
 (5) Upload to S3 : 위에서 압축한 zip 파일을 설정한 S3 계정으로 upload 합니다.  
 (6) Code Deploy : CodeDeploy, Agent를 통해 S3에 업로드된 파일을 가져오기 위한 명령어 입니다.  
*   application-name : CodeDeploy 어플리케이션의 이름 지정
* 	deployment-config-name : 배포그룹설정에서 선택했던 배포방식 지정
* 	deployment-group-name : 배포그룹의 이름
* 	s3-location : S3에서 jar를 가져오기 위한 S3의 bucket 이름, 파일타입, 파일경로 지정

<br>

다음은 EC2에 배포된 프로젝트 빌드 파일이 구동되기까지 과정을 처리하는 appspec.yml 파일입니다.  
이 yml설정은 다음장에서 설명할 CodeDeploy 애플리케이션 구성 - 컴퓨팅 플랫폼이 EC2/온프레미스로 선택했을 때, 동작합니다.


<div class="colorscripter-code" style="color:#010101;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important;overflow:auto"><table class="colorscripter-code-table" style="margin:0;padding:0;border:none;background-color:#fafafa;border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px;border-right:2px solid #e5e5e5"><div style="margin:0;padding:0;word-break:normal;text-align:right;color:#666;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div></div></td><td style="padding:6px 0;text-align:left"><div style="margin:0;padding:0;color:#010101;font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important;line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%">version:&nbsp;<span style="color:#308ce5">0.</span><span style="color:#308ce5">0</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">os:&nbsp;linux</div><div style="padding:0 6px; white-space:pre; line-height:130%">files:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>&nbsp;source:&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">/</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;destination:&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>home<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>ubuntu<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>app<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>trvapp<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>trvapp&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;overwrite:&nbsp;yes</div><div style="padding:0 6px; white-space:pre; line-height:130%">file_exists_behavior:&nbsp;OVERWRITE</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">permissions:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>&nbsp;object:&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">/</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;pattern:&nbsp;<span style="color:#993333">"**"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;owner:&nbsp;ubuntu</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;group:&nbsp;ubuntu</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">hooks:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;ApplicationStart:</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>&nbsp;location:&nbsp;scripts<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>run_new_was.sh</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;timeout:&nbsp;<span style="color:#308ce5">200</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runas:&nbsp;ubuntu</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">-</span>&nbsp;location:&nbsp;scripts<span style="color:#0086b3"></span><span style="color:#ff3399">/</span>health_check.sh</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;timeout:&nbsp;<span style="color:#308ce5">200</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runas:&nbsp;ubuntu</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div></div><div style="text-align:right;margin-top:-13px;margin-right:5px;font-size:9px;font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#e5e5e5text-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom;padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none;color:white"><span style="font-size:9px;word-break:normal;background-color:#e5e5e5;color:white;border-radius:10px;padding:1px">cs</span></a></td></tr></table></div>

1. files  
	(1) source : destination으로 복사할 파일의 경로 지정  
	(2) destination : EC2 인스턴스에 복사될 경로 지정  
2. file_exists_behavior: 파일이 이미 경로에 있어도, OVERWRITE 합니다.  

3. hooks  
	ApplicationStart : 어플리케이션 구동을 위한 명령어 (셸 스크립트 경로 지정)
